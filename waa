<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script defer src="https://cdn.jsdelivr.net/npm/libcurl.js@0.7.1/libcurl.js" onload="libcurl.load_wasm('https://cdn.jsdelivr.net/npm/libcurl.js@0.7.1/libcurl.wasm');"></script>
    <script>
        function a2d(arr) {
            return arr.reduce((dict, [key, value]) => {
                dict[key] = value;
                return dict;
            }, {});
            }
        document.addEventListener("libcurl_load", ()=>{
            libcurl.set_websocket(`wss://wisp.rhw.one/ws/`);
            console.log("libcurl.js ready!");
            main();
        });
        async function main(){
            var username="hudsonreich"
            var init_resp=await libcurl.fetch(`https://sts.sky.blackbaud.com/azureadb2c/state?login_hint=${username}%40hunterschools.org&redirectUrl=https%3A%2F%2Fhunterschools.myschoolapp.com%2Fapp%3FsvcId%3Dedu%26envId%3Dp-9A4jO0o5LESTJyyg7MVsCA%26bb_id%3D1%23login&bbcid=spa-signin`,{method: 'POST',headers: {'Content-Type': 'application/json','origin': 'https://app.blackbaud.com'},body:'{"redirect_url":"https://hunterschools.myschoolapp.com/app?svcId=edu&envId=p-9A4jO0o5LESTJyyg7MVsCA&bb_id=1#login","embedded":false,"custom_branding_present":true}'})
            var state=(await init_resp.json())['state']
            var asis=a2d(init_resp.raw_headers)['set-cookie'].split(";")[0]
        }
    </script>
</body>
</html>
